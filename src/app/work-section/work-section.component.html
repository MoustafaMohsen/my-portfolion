<!--============== Work section ==============-->
<section class="row work-section relative after-before-height" id="work" snInViewport (inViewportChange)="onInViewportChange($event)">

    <!--work header-->
    <div class="col-12 work-header after-before-height">
        <div class="row justify-content-center">
            <div class="col-12 align-self-center">
              <h3 class="section-header-title" ><span id="work-title-type" #titleElement></span> <span class="blue-underscore blue-underscore-hide-show">_</span></h3>
            </div>

        </div>
        <!--work description-->
        <div class="row justify-content-center">
            <div class="col-lg-8 col-sm-10 col-12 align-self-center" snInViewport (inViewportChange)="onDescriptionViewport($event)">
              <p class="header-description section-header-description" ><span #descriptionElement></span><span class="blue-underscore blue-underscore-hide-show">_</span></p>
            </div>
        </div>
    </div>


    <!--work body-->
    <div class="col-12 work-body">


            <div class="row">
                <div class="col-12" *ngFor="let workcard of Cards; let i = index">
                    <div class="row justify-content-center work-card-loop-item"  >

                        <div class="col-lg-12 col-md-10 col-sm-11 col-12">
                            <!-- ================================ Dynamic Card ================================== -->
                            <!-- work container -->
                            <div class="work-card-container">
                                <mat-card class="work-card">

                                    <div
                                    [ngStyle]="{'background-image': ' url(\''  +workcard.backgroundImages[0]+  '\') '}"
                                     class=" work-card-background-image">
                                        <div class="work-card-background-overlay"></div>
                                    </div>

                                    <div class="row justify-content-start work-card-header">
                                        <div class="col-auto relative pad-0 work-card-title-container">
                                        <p class=work-card-title> {{workcard.title}}</p>
                                        <div class="work-card-uderline"></div>
                                        </div>
                                    </div>
                                    <div class="row work-card-subtitle">
                                        <div class="col-12"><p>{{workcard.subtitle}}</p></div>
                                    </div>

                                    <mat-card-content class="row no-gutters justify-content-start work-card-content">
                                                <p class="col-md-11 col-11 work-card-description" [innerHTML]="workcard.description"></p>
                                    </mat-card-content>

                                    <div class="row work-card-footer">
                                        <button mat-button class="col-auto my-button"
                                        (click)="openModal(workcard)" type="submit"><p >{{workcard.buttonText}} <span></span></p></button>
                                    </div>



                                </mat-card>
                            </div>
                            <!-- ================================ Dynamic Card ================================== -->
                        </div>

                    </div>
                </div>
            </div>

            <!-- ============= Small Cards ============= -->
            <div class="row">
                <div class="col-12">
                    <div class="row justify-content-center">

                        <div class="col-lg-12 col-md-10 col-sm-11 col-12">

                                <div class="row justify-content-center no-gutters small-cards-container">

                                    <div class="col-6" *ngFor="let smallcard of smallCards; let i = index">
                                        <div class="row small-work-card-container" >

                                            <!-- background image -->
                                            <div class="small-work-card-background-image"
                                            [ngStyle]="{'background-image': ' url(\''  +smallcard.backgroundImages[0]+  '\') '}"
                                            >
                                                <div class="small-work-card-background-overlay"></div>
                                            </div>

                                            <div class="col-12 small-work-card-body">
                                                <!-- title -->
                                                <div class="row justify-content-center">
                                                    <div class="small-work-card-header relative">
                                                        <div class="col-auto small-work-card-title"><p>{{smallcard.title}}</p></div>
                                                        <div class="small-work-card-title-underline"></div>
                                                    </div>
                                                </div>

                                                <!-- button -->
                                                <div class="row justify-content-center">
                                                    <div class="small-work-card-footer" >
                                                        <button mat-button class="col-auto my-button my-button-xs-scall" (click)="openModal(smallcard)" type="submit"><p >{{smallcard.buttonText}} <span></span></p></button>
                                                    </div>

                                                </div>

                                            </div>

                                        </div>
                                    </div>

                                </div>

                        </div>
                    </div>

                </div>
            </div>





    </div>



</section>












<!-- ====================================== Model ======================================== -->
<!-- Button trigger modal -->


<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
<div class="modal-dialog modal-lg modal-dialog-centered" role="document">

    <div class="modal-content container-fluid model-project-card" *ngIf="project">


        <div class="row modal-project-header">
            <div class="col-12">
                <div class="modal-image">
                    <!--
                        <img [src]="project.backgroundImage">
                     -->
                     <!-- ===== slider -->
                     <div id="modal-carousel" class="carousel slide" data-ride="carousel">

                            <ol class="carousel-indicators" *ngIf="project.backgroundImages.length > 1">
                                <div *ngFor="let img of project.backgroundImages;let i = index">
                                    <li data-target="#modal-carousel" [attr.data-slide-to]="i" class="active"></li>
                                </div>
                            </ol>
                        <div class="carousel-inner">
                            <ng-container *ngFor="let img of project.backgroundImages;let i = index">
                                <div  class="carousel-item " [ngClass]="i==0?'active':''">
                                    <!-- <img [src]="img"> -->
                                    <div class="modal-background-image" [ngStyle]="getBackgroundImage(i)" ></div>
                                </div>
                            </ng-container>
                        </div>
                        <a class="carousel-control-prev" href="#modal-carousel" role="button" data-slide="prev"  *ngIf="project.backgroundImages.length > 1">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="sr-only">Previous</span>
                        </a>
                        <a class="carousel-control-next" href="#modal-carousel" role="button" data-slide="next"  *ngIf="project.backgroundImages.length > 1">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="sr-only">Next</span>
                        </a>
                    </div>
                    <!-- slider ===== -->
                </div>
            </div>

        </div>
        <div class="row modal-project-content relative">
            <div class="col-12 modal-title">
                    <h4>{{project.title}}</h4>
            </div>

            <div class="col-12 modal-subtitle">
                    <p>{{project.subtitle}}</p>
            </div>

            <div class="moda-project-seperator"></div>

            <div class="col-12 modal-description">
                <p [innerHTML]="project.description"></p>
            </div>
            <div class="col-12 modal-inner-description">
                <pre>{{project.innerDescription}}</pre>
            </div>
        </div>

        <div class="moda-project-seperator"></div>

        <div class="row justify-content-center modal-project-footer relative">

            <div class="col-xl-4 col-lg-5 col-md-6 col-8"
            *ngFor="let button of project.buttonsText; let i = index;"
            > <a class="my-button visit-site-button"
            [ngClass]="
            button.type == 'website' ? 'my-button-primary':
            button.type == 'project' ? 'my-button-secondary':
            'my-button-primary'
            "
            [href]="button.link"
            target="_blank"
            mat-button>{{button.text}} <i class="fas fa-external-link-alt"></i></a> </div>

        </div>


        <div class="modal-project-close">
            <button (click)="closeModal()"><i class="fas fa-times"></i></button>
        </div>
    </div>
</div>
</div>
